(function(){var a=!1,d=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(b){function c(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in b)f[g]="function"==typeof b[g]&&"function"==typeof e[g]&&d.test(b[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);this._super=c;return d}}(g,b[g]):b[g];c.prototype=f;c.prototype.constructor=c;c.extend=arguments.callee;
return c}})();var Notification=function(a,d,b){var c="undefined"==typeof d?null:d,e="undefined"==typeof b?null:b;this.getName=function(){return a};this.getBody=function(){return c};this.getType=function(){return e};this.setBody=function(a){c=a};this.setType=function(a){e=a};this.toString=function(){return"Notification "+a+" "+e}};var Observer=function(a,d){this.object=a;this.callback=d};Observer.prototype.constructor=Observer;Observer.prototype.sendNotification=function(a){this.callback.call(this.object,a)};var Notifier=Class.extend({init:function(){this.observers={}},hasObserverKey:function(a){return this.observers.hasOwnProperty(a)},removeObserverKey:function(a){delete this.observers[a]},hasObserver:function(a,d){if(!this.hasObserverKey(a))return!1;for(var b=!1,c=this.observers[a],e=c.length,f;-1<--e;)if(f=c[e],d.object==f.object&&d.callback==f.callback){b=!0;break}return b},registerObserver:function(a,d,b){d=new Observer(d,b);this.hasObserver(a,d)||(this.hasObserverKey(a)||(this.observers[a]=[]),
this.observers[a].push(d))},removeObserver:function(a,d,b){if(this.hasObserverKey(a)){for(var c=this.observers[a],e=c.length,f;-1<--e;)if(f=c[e],f.object==d&&f.callback==b){c.splice(e,1);break}0==c.length&&this.removeObserverKey(a)}},removeObservers:function(a){this.hasObserverKey(a)&&this.removeObserverKey(a)},sendNotification:function(a,d,b){if(this.hasObserverKey(a)){for(var d=new Notification(a,d,b),a=this.observers[a],b=a.length,c,e=[];-1<--b;)c=a[b],e.unshift(c);for(b=e.length;-1<--b;)c=e[b],
c.sendNotification(d)}}});
